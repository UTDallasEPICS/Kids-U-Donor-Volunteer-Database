generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("PRISMA_DB_URL")
}

model Constituent {
  ConstituentID     String         @id @default(uuid())
  FirstName         String
  LastName          String
  StreetAddress     String
  City              String
  State             String
  Zipcode           String
  Country           String
  EmailAddress      String         @unique
  PhoneNumber       String?        @unique
  AreaCode          String?
  donors            Donor[]
  volunteers        Volunteer[]
}

model Volunteer {
  VolunteerID         String           @id @default(uuid())
  DOB                 DateTime
  Age                 Int
  EmergencyContact    String?
  EventsAttended      String[]
  AgreementToMediaUse Boolean?
  TrainingCompletion  String?
  BackgroundCheckCompletion     Boolean?
  IsOverEighteen        Boolean?
  ConstituentID       String
  Constituent         Constituent      @relation(fields: [ConstituentID], references: [ConstituentID])
  VolunteerEvents     VolunteerEvent[]
}

model Donor {
  DonorID           String      @id @default(uuid())
  ContactPreference String?
  NotesResources    String?
  ConstituentID     String
  donations         Donation[]
  Constituent       Constituent @relation(fields: [ConstituentID], references: [ConstituentID])
}

model Donation {
  DonationID    String    @id @default(uuid())
  AmountDonated Float
  DateReceived  DateTime
  FundingAreas  String[]
  KidsUPrograms String[]
  DueDate       DateTime?
  DonorID       String
  Donor         Donor     @relation(fields: [DonorID], references: [DonorID])
}

model Organization {
  OrganizationID            Int         @id @default(autoincrement())
  WebsiteForFunder          String?
  StreetAddress             String
  City                      String
  State                     String
  Zipcode                   String
  Country                   String
  OrganizationName          String      @unique
  PortalForGrantApplication String?
  NotesAboutLoginInfo       String?
  representative            Representative[]
  
}

model Representative{
  RepresentativeID          Int         @id @default(autoincrement())
  RepresentativeFirstName   String
  RepresentativeLastName    String
  RepresentativeEmail       String      @unique
  RepresentativePhone       String?     @unique
  PositionInCompany         String
  grants                    Grant[]
  OrganizationID            Int
  Organization              Organization  @relation(fields: [OrganizationID], references: [OrganizationID])
}

model Grant {
  GrantID                 Int          @id @default(autoincrement())
  GrantName               String       @unique
  Years                   Int
  FundingAreas            String[]
  KidsUProgram            String[]
  GrantOpeningDates       DateTime[]
  AskDate                 DateTime?
  AwardDate               DateTime?
  ReportingDates          DateTime[]
  TypeOfReporting         String?
  DateToReapplyForGrant   DateTime?
  WaitingPeriodToReapply  Int?
  FundingRestrictions     String?
  AskAmount               Float
  AmountAwarded           Float
  EndOfGrantReportDueDate DateTime
  Representative          Representative[]
}

model Event {
  EventID            Int              @id @default(autoincrement())
  NameOfEvent        String
  Date               DateTime
  Time               DateTime
  VolunteersAttended VolunteerEvent[]
}

model VolunteerEvent {
  ID          Int       @id @default(autoincrement())
  VolunteerID String
  EventID     Int
  LoginTime   DateTime
  LogoutTime  DateTime
  LoggedHours Int
  Event       Event     @relation(fields: [EventID], references: [EventID])
  Volunteer   Volunteer @relation(fields: [VolunteerID], references: [VolunteerID])
}

